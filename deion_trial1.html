<!DOCTYPE html>
	<html lang="en">
	<head>
        <meta charset="utf-8" />
        <title>Predator-Prey Simulator</title>
		
        
         <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        
      <!-- First Graph data information -->
    <script type="text/javascript">
        
   google.charts.load('current', {'packages':['corechart', 'line']});
    google.charts.setOnLoadCallback(drawChart);

        
        function dR(a,R,F){ //Change in prey over time
            var result = a*R - (1/12)*R*F;
            return result;
        }
      
        function dF(d,R, F){ // Change in predator over time
            var result = d*F + (1/120)*R*F
            return result;
        }
        
    function drawChart() {

      var button = document.getElementById('change-chart');
      var chartDiv = document.getElementById('chart_div');
        
        
      var data1 = new google.visualization.DataTable();
      data1.addColumn('number', 'Time');
      data1.addColumn('number', 'Prey');
      data1.addColumn('number', 'Predator');
        
//        var data2 = new google.visualization.DataTable();
//      data2.addColumn('number', 'Time');
//      data2.addColumn('number', 'Predator');
        
         var R = Number(document.getElementById('parameter1').value); //Initial Rabbit Pop -- Global
        var F = Number(document.getElementById('parameter2').value); // Initial population of Foxes -- Global
     
        var t = 0;
        var step = .0001; // Change in time
        var time = 1/step; //set time variable
         
        var a = Number(document.getElementById('growth-rate').value); //growth rate of rabbits
//        var b = (1/12); //constant - refers to number of fox-rabbit interaction -> rabbit is eaten
        var d = Number(document.getElementById('death-rate').value);//death-rate coefficient of foxes
//        var g = (1/120);//constant - benefit to fox population when rabbit is eaten
           
        
          
         //Plot Initial populations:
        data1.addRows([[t, R, F]]);
        t+= step;
        
     for(i = 1; i < time; i++){
      data1.addRows([
        [t, R + (dR(a,R,F)*step), F + (dF(d,R,F)*step)]
      ]);
        
         R = R + (dR(a,R,F)*step); //Set new pop of Rabbits
         F = F + (dF(d,R,F)*step); //Set new pop of Foxes
           t+=step;
    }

 
      var linearOptions = {
        title: 'Prey vs. Time',
        legend: 'Time',
        pointSize: 1,
        width: 900,
        height: 500,
        hAxis: {
          gridlines: {
            count: -1
          }
        },
        vAxis: {
            scaleType: 'Prey',
          ticks: [ 0, 100, 200]
        }
      };

      var mirrorLogOptions = {
        title: 'Predator vs. Time',
        legend: 'Time',
        pointSize: 1,
        width: 900,
        height: 500,
        hAxis: {
          gridlines: {
            count: -1
          }
        },
        vAxis: {
          scaleType: 'Predator',
          ticks: [ 0, 100, 200, 300, 400, 500]
        }
      };

      function drawLinearChart() {
        var linearChart = new google.visualization.LineChart(chartDiv);
        linearChart.draw(data1, linearOptions);
        button.innerText = 'Change to Predator';
        button.onclick = drawMirrorLogChart;
      }

      function drawMirrorLogChart() {
        var mirrorLogChart = new google.visualization.LineChart(chartDiv);
        mirrorLogChart.draw(data1, mirrorLogOptions);
        button.innerText = 'Change to Prey';
        button.onclick = drawLinearChart;
      }

      drawMirrorLogChart();
    }
    </script>
        
	</head>

	<body>
        
        <div class="parameters">

			<table width="100%" border="1">
				<tr>
                    <td>
                    <div>
							<!--First parameter text box-->
							<h2>Parameters</h2>
							<form>
								Rabbit Population:<br>
								<select id = "parameter1">
  <option value = "50">50</option>
  <option value = "100">100</option>
  <option value = "150">150</option>
  <option value = "200">200</option>
  <option value = "250">250</option>
  <option value = "300">300</option>
  <option value = "350">350</option>
  <option value = "400">400</option>
  <option value = "450">450</option>
  <option value = "500">500</option>
</select>

								<br>
							<!--Second parameter text box-->
								Hawk Population:<br>
								<select id="parameter2">
                            <option value = "45">45</option>
                            <option value = "40">40</option>
                            <option value = "35">35</option>
                            <option value = "30">30</option>
                            <option value = "25">25</option>
                            <option value = "20">20</option>
                            <option value = "15">15</option>
                            <option value = "10">10</option>
                            <option value = "5">5</option>
                            <option value = "1">1</option>
                                </select>
								</br>
                        Rabbit Growth Rate:<br>
                        <select id = "growth-rate">
                    <option value = "1">100%</option>
                    <option value = ".9">90%</option>
                    <option value = ".8">80%</option>
                    <option value = ".7">70%</option>
                    <option value = ".6">60%</option>
                    <option value = ".5">50%</option>
                    <option value = ".4">40%</option>
                    <option value = ".3">30%</option>
                    <option value = ".2">20%</option>
                    <option value = ".1">10%</option>
                        </select>
                        </br>
                        Hawk Death Rate:<br>
                        <select id ="death-rate">
                        <option value="1">100%</option>
                        <option value = ".9">90%</option>
                        <option value = ".8">80%</option>
                        <option value = ".7">70%</option>
                        <option value = ".6">60%</option>
                        <option value = ".5">50%</option>
                        <option value = ".4">40%</option>
                        <option value = ".3">30%</option>
                        <option value = ".2">20%</option>
                        <option value = ".1">10%</option>

                        </select>
                                
							</form>
						</div>
                    </td>
        <td>
            <h2>Definitions</h2>
            <p> &alpha; refers to the rabbit growth rate.</p>
            <p> &delta; refers to the death rate of foxes.</p>
        
        </td>
					<td>
						<div>
							<h2>Equation Being Used: </h2>
							<p>
							dR&frasl;dT = &alpha;R - &beta;RF 
							</p>
                            <p>
                            dF&frasl;dT = &delta;F + &gamma;RF
                            </p>
						</div>
					</td>
					
				</tr>
			</table>
        </div>
		
		<div class="graph">
            
			<table border="1" width="100%">
                <tr><td> <button id="change-chart"></button></td></tr>
				<tr>
					<td>
       <!-- Insert Practice Graph1 -->
                        <div id="chart_div"></div></td>
                    
				</tr>
		</div>


		
            
            <div style="text-align: center;">
				<button type="button" id = "myBtn">Generate Graphs</button>
			<script>
			document.getElementById("myBtn").addEventListener("click", drawChart);
			</script>
		</div>



	</body>


</html>